<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Socket</title>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    <p></p>
    <input type="text" name="" value="" oninput="updateMessage()">
  </body>

  <script>
    var socket = io.connect('http://localhost');
    const p = document.querySelector('p');
    socket.on('news', function (data) {
      console.log(data);
      p.innerHTML = data.text;
      socket.emit('my other event', { my: 'data' });
    });
    socket.on('hello', function (data) {
      console.log(data);
      p.innerHTML = data.text;
    });

    function updateMessage() {
      const text = document.querySelector('input').value;
      socket.emit('hello', { text: text });
    }
  </script>
</html>
